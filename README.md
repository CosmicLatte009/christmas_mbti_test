# ğŸ„í¬ë¦¬ìŠ¤ë§ˆìŠ¤ MBTI ìœ í˜• í…ŒìŠ¤íŠ¸ğŸ„

</br>

**[ë°°í¬ URL]**

- URL: https://christmas-mbti-test.netlify.app

</br>

# 1. ê°œë°œ í™˜ê²½

## **ê°œë°œ í™˜ê²½**

- React
- React-router
- useState, useEffect, useNavigate, useSearchParams
- CSS module, Sass

```
react: "^18.2.0",
react-router-dom: "^6.4.3",
sass: "^1.56.1",
sass-loader: "^13.2.0"
```

## **ì„œë¹„ìŠ¤ ë°°í¬ í™˜ê²½**

- ğŸ”—netlify

## **SEO ìµœì í™” ë„êµ¬**

- ë„¤ì´ë²„ ì›¹ ë§ˆìŠ¤í„° ë„êµ¬

</br>

# 2. í´ë” íŠ¸ë¦¬ êµ¬ì¡°

```
ğŸ“¦
â”œâ”€Â public
â”‚Â Â â”œâ”€Â _redirects
â”‚Â  â”œâ”€  favicon.svg
â”‚  â”œâ”€ index.html
â”‚Â Â â”œâ”€Â robots.txt
â”‚Â Â â””â”€Â sitemap.xml
â””â”€Â src
â”‚Â Â â”œâ”€Â App.js
â”‚  â”œâ”€ index.js
â”‚Â Â â”œâ”€Â assets
â”‚Â Â â”‚Â Â â”œâ”€Â data
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â questionData.js
â”‚Â Â â”‚Â Â â”‚Â Â â””â”€Â resultData.js
â”‚Â Â â”‚Â Â â”œâ”€Â svg
â”‚Â Â â”‚Â Â â””â”€Â typeImage
â”‚Â Â â”œâ”€Â components
â”‚Â Â â”‚Â Â â”œâ”€Â common
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â Button.jsx
â”‚Â Â â”‚Â Â â”‚Â Â â””â”€Â Wrapper.jsx
â”‚Â Â â”‚Â Â â”œâ”€Â guage
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â Guage.jsx
â”‚Â Â â”‚Â Â â”‚Â Â â””â”€Â GuageHeart.jsx
â”‚Â Â â”‚Â Â â”œâ”€Â match
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â Match.jsx
â”‚Â Â â”‚Â Â â”‚Â Â â””â”€Â MatchBox.jsx
â”‚Â Â â”‚Â Â â”œâ”€Â resultDesc
â”‚Â Â â”‚Â Â â”‚Â Â â”œâ”€Â ResultDesc.jsx
â”‚Â Â â”‚Â Â â”‚Â Â â””â”€Â ResultList.jsx
â”‚Â Â â”‚Â Â â””â”€Â shareButton
â”‚Â Â â”‚Â Â Â Â Â â”œâ”€Â FacebookShareButton.jsx
â”‚Â Â â”‚Â Â Â Â Â â”œâ”€Â KakaoShareButton.jsx
â”‚Â Â â”‚Â Â Â Â Â â”œâ”€Â ShareButton.jsx
â”‚Â Â â”‚Â Â Â Â Â â””â”€Â TwitterShareButton.jsx
â”‚Â Â â”œâ”€Â page
â”‚Â Â â”‚Â Â â”œâ”€Â AllResultPage.jsx
â”‚Â Â â”‚Â Â â”œâ”€Â HomePage.jsx
â”‚Â Â â”‚Â Â â”œâ”€Â QuestionPage.jsx
â”‚Â Â â”‚Â Â â””â”€Â ResultPage.jsx
â”‚Â Â â””â”€Â style
â”‚Â Â Â Â Â â”œâ”€Â commonStyle
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â Button.module.scss
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â Wrapper.module.scss
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â _utils.scss
â”‚Â Â Â Â Â â”‚Â Â â””â”€Â reset.css
â”‚Â Â Â Â Â â”œâ”€Â guageStyle
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â Guage.module.scss
â”‚Â Â Â Â Â â”‚Â Â â””â”€Â GuageHeart.module.scss
â”‚Â Â Â Â Â â”œâ”€Â matchStyle
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â Match.module.scss
â”‚Â Â Â Â Â â”‚Â Â â””â”€Â MatchBox.module.scss
â”‚Â Â Â Â Â â”œâ”€Â pagesStyle
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â AllResultPage.module.scss
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â HomePage.module.scss
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â QuestionPage.module.scss
â”‚Â Â Â Â Â â”‚Â Â â””â”€Â ResultPage.module.scss
â”‚Â Â Â Â Â â”œâ”€Â resultDescStyle
â”‚Â Â Â Â Â â”‚Â Â â”œâ”€Â ResultDesc.module.scss
â”‚Â Â Â Â Â â”‚Â Â â””â”€Â ResultList.module.scss
â”‚Â Â Â Â Â â””â”€Â shareButtonStyle
â”‚Â Â Â Â Â Â Â Â â””â”€Â ShareButton.module.scss
â”œâ”€ netlify.toml
â”œâ”€ package-lock.json
â””â”€ package.jsonÂ Â 

```

Â©generated by [Project Tree Generator](https://woochanleee.github.io/project-tree-generator)

</br>

# 3. êµ¬í˜„ ê¸°ëŠ¥

## **questionPage ë¡œì§** âœ…

### **1. ìœ í˜•ë³„ ì ìˆ˜ ì¶”ê°€í•˜ê¸°**

```
const [totalScore, setTotalScore] = useState([
		{ id: "EI", score: 0 },
		{ id: "SN", score: 0 },
		{ id: "TF", score: 0 },
		{ id: "JP", score: 0 },
	]);

const newScore = totalScore.map((s) =>
	s.id === type ? { id: s.id, score: s.score + n } : s);
	setTotalScore(newScore);
```

- QuestionData. jsì˜ typeê³¼ QuestionPage.jsì˜ totalscore useStateì˜ idê°€ ì¼ì¹˜í•  ë•Œ scoreì— ì ìˆ˜ë¥¼ ì¶”ê°€í•œë‹¤.

- ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ stateì˜ ê¸°ì¡´ ê°ì²´ë¥¼ ìœ ì§€í•œë‹¤.

</br>

### **2. ë¬¸í•­ ìˆ˜ ì¦ê°€ì‹œí‚¤ë‹¤ê°€ 12ë²ˆ ë¬¸í•­ì—ì„œ mbti ë„ì¶œ**

```
11ë²ˆ ë¬¸ì œê¹Œì§„ ë‹¤ìŒ ë¬¸ì œë¡œ ë¬¸ì œìˆ˜ ì¦ê°€
 if (QuestionData.length !== questionNum + 1) {
		setQuestionNum(questionNum + 1);
} else {
        //mbti ë„ì¶œ
		const mbti = newScore.reduce(
			(acc, curr) =>
			acc + (curr.score >= 2 ?
            curr.id.slice(0, 1) : curr.id.slice(1, 2)), ""
		);
        //ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
        navigate({
            pathname: "/result",
            search: `?${createSearchParams({ mbti: mbti })}`,
        });
    }
```

- ë¬¸í•­ ìˆ˜ 11ë²ˆê¹Œì§€ ì¦ê°€ì‹œí‚¤ê¸°

  questionNumì´ QuestionData.jsì˜ ê¸¸ì´ì™€ ì¼ì¹˜í•˜ì§€ ì•Šì„ ë•Œ questionNumì„ 1ì”© ì¦ê°€ì‹œì¼œì¤€ë‹¤.

- 12ë²ˆ ë¬¸í•­ì—ì„œ mbit ë„ì¶œí•˜ê¸°

  ë¬¸í•­ë³„ ì ìˆ˜(score) ì €ì¥ëœ newScore ë°°ì—´ì„ ëŒë©´ì„œ ì ìˆ˜ê°€ 2ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ìœ¼ë©´ ì•ì˜ ì•ŒíŒŒë²³ì„, ì‘ìœ¼ë©´ ë’¤ì˜ ì•ŒíŒŒë²³ì„ accì— ì €ì¥í•œë‹¤. ê·¸ë¦¬ê³  ì§ì „ì— ë™ì‘í•œ ì½œë°± í•¨ìˆ˜ê°€ ë¦¬í„´í•œ ê°’ì„ accì— ì „ë¶€ ëª¨ì•„ mbti ìœ í˜•ì„ ì™„ì„±í•œë‹¤.

- ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™

  URLì˜ result ê²½ë¡œ(path) ë’¤ì— ë¶™ëŠ” ì¿¼ë¦¬(query)ë¥¼ ì„¤ì •. `/result?mbti=ENFP` í˜•íƒœì˜ URLë¡œ ë‚˜ì˜¨ë‹¤.

</br>

## **resultPage ë¡œì§** âœ…

### **1. QuestionPageë¡œë¶€í„° mbti ë°ì´í„° ë°›ì•„ì˜¤ê¸°**

```
const navigate = useNavigate();
const [searchParams] = useSearchParams();
const mbti = searchParams.get("mbti");

const [resultData, setResultData] = useState({});

useEffect(() => {
const result = ResultData.find((s) => s.type === mbti);
	setResultData(result);
	}, [mbti]);
```

- QuestionDataì˜ mbti queryë¥¼ ê°€ì ¸ì˜¤ê³ , mbtiê°€ ë°”ë€” ë•Œë§ˆë‹¤ ë°”ë€ mbtiì™€ ì¼ì¹˜í•˜ëŠ” ResultDataì˜ typeì„ ì°¾ì•„ì„œ í•´ë‹¹ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

 </br>

> ì°¸ê³  GitHub: https://github.com/ggombee/catmbti

  </br>

# 4. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

## **React / JavaScript** âœ…

### **1. ë°ì´í„° ê°œí–‰ë§ˆë‹¤ listë¡œ ë°”ê¾¸ê¸°**

```
const arrJealousy = (resultData.jealousyDesc || "").split("\n");
 return (<ul>
		{arrJealousy.map((item) => (
			<li key={item}>{item}</li>
          ))}
		</ul>)
```

- `split` ì‚¬ìš©í•˜ì—¬ `\n` ê°œí–‰ ë‹¨ìœ„ë¡œ ë°ì´í„° ëŠì–´ì„œ listë¡œ ë Œë”ë§.

</br>

### **2. íŠ¹ì • numberë§Œí¼ ë°˜ë³µë¬¸ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•ŒëŠ” ìˆ«ìë¥¼ ë°°ì—´ë¡œ ë°”ê¿”ì„œ ì‚¬ìš©í•˜ê¸°**

```
const N = 5;   // ê¸¸ì´ Nì„ 5ë¼ê³  ê°€ì •
let arr = new Array(N).fill(0);
let arr2 = new Array(N).fill(0);

//í”„ë¡œì íŠ¸ì—ì„œ ì“°ì¸ ì½”ë“œ
const jealousyHearts = resultData.jealousyGuage;
	let jealousyHeartArr = new Array(jealousyHearts).fill(0);
```

</br>

### **3. Reactì—ì„œ í˜ì´ì§€ ì´ë™ ì‹œ ìŠ¤í¬ë¡¤ ë§¨ ìœ„ë¡œ ì˜¤ê²Œ í•˜ê¸°**

```
useEffect(() => {
		window.scrollTo(0, 0);
	}, []);
```

</br>

### **4. mapì— ê³ ìœ í•œ keyë¥¼ ì„¤ì •í•˜ë¼ëŠ” ì •í™•í•œ ì˜ë¯¸**

- 'ê³ ìœ í•œ key'ê°€ í•„ìš”í•œ ì´ìœ ëŠ” `map`ìœ¼ë¡œ ë°˜ë³µë¬¸ ëŒë¦¬ëŠ” ë¦¬ìŠ¤íŠ¸ì˜ ìš”ì†Œê°€ í•˜ë‚˜ì”© êµ¬ë¶„ë˜ì–´ì•¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë•Œë¬¸ì— ê³ ìœ í•œ ë°ì´í„° ê·¸ ìì²´ê°€ í•„ìš”í•œ ê²ƒì´ì§€, ì»´í¬ë„ŒíŠ¸ë³„ë¡œ key ì´ë¦„ì´ ê²¹ì¹˜ëŠ”ê±´ ê´œì°®ë‹¤.

- id ì‚¬ìš©í•˜ëŠ” ê²½ìš°

  ë¦¬ìŠ¤íŠ¸ì— ê³ ìœ í•œ idê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” ê·¸ëŒ€ë¡œ id ì‚¬ìš©í•œë‹¤.

```
{Data.map((item, index) => (
					<div key={item.id}>{item}</div>
				))}
```

- index ì‚¬ìš©í•˜ëŠ” ê²½ìš°

  ë¦¬ìŠ¤íŠ¸ì— ê³ ìœ í•œ idê°€ ì—†ëŠ” ê²½ìš°(ex. ë‹¨ìˆœ ë°°ì—´)ëŠ” ë³´í†µ indexë¥¼ ì‚¬ìš©í•œë‹¤.

  ë¦¬ì•¡íŠ¸ì—ì„œ keyë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë„£ì–´ì£¼ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ indexê°’ì„ keyê°’ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
  ë‹¨, ì•„ì´í…œì˜ ìˆœì„œê°€ ë°”ë€” ìˆ˜ ìˆëŠ” ê²½ìš°ì—ëŠ” indexë¥¼ ì‚¬ìš©í•˜ëŠ”ê±¸ ê¶Œì¥í•˜ëŠ” ì•ŠëŠ”ë‹¤.

```
{arr.map((desc, index) => (
					<div key={index}>{desc}</div>
				))}
```

</br>

## **CSS** âœ…

### **1. ê°€ìƒìš”ì†Œ ì‘ë™ ì•ˆë  ë•Œ**

- `content=""` ì†ì„± ì¶”ê°€

- `display: inline-block` í˜¹ì€ `display: block` ì†ì„± ì¶”ê°€

### **2. list ì¤„ë°”ë€Œì–´ë„ ë“¤ì—¬ì“°ê¸°**

- í™”ë©´ì„ ë³´ë©´ì„œ ì ì ˆí•œ ìŒìˆ˜ê°’ì„ ì ì–´ì£¼ë©´ ëœë‹¤.

```
text-indent: -20px
```

### **3. svg ìƒ‰ìƒ CSSì—ì„œ ë°”ê¾¸ê¸°**

- svg ì½”ë“œì—ì„œ `style="fill:current";`ë¡œ ì„¤ì •í•˜ê³  CSSì—ì„œ fill ìƒ‰ìƒ ë³€ê²½.

</br>

### **4. ëª¨ë°”ì¼ì—ì„œ hoverê°€ ì ìš©ë˜ì§€ ì•Šì„ ë•Œ**

- ë¯¸ë””ì–´ ì¿¼ë¦¬ë¡œ hover ê¸°ëŠ¥ ìˆëŠ” ê¸°ê¸°ì™€ ì—†ëŠ” ê¸°ê¸°ë¥¼ êµ¬ë¶„í•´ì„œ hover ê¸°ëŠ¥ ìˆëŠ” ìª½ì—ë§Œ hover íš¨ê³¼ ì ìš©í•´ì£¼ëŠ” ë°©ì‹.

  ë‹¨, hover ê¸°ëŠ¥ ì—†ëŠ” ê¸°ê¸°ì—ëŠ” ì•„ì˜ˆ íš¨ê³¼ê°€ ì œê±°ë¨ì— ì£¼ì˜.

  ```
  @media (hover: hover) and (poitner: fine) {ìš”ì†Œ:hover {ì†ì„±: ì†ì„±ê°’;}}
  ```

- hover ëŒ€ì‹  activeì— ripple íš¨ê³¼ ì• ë‹ˆë©”ì´ì…˜ ì£¼ê¸°

  ```
  ìš”ì†Œ{
  background-position: center;
  transition: background 0.5s;
  }

  ìš”ì†Œ:active {
      background-color: map-get($colors, back);
      background-size: 100%;
      transition: background 0s;
      }
  ```

  </br>

## **Netlify ë°°í¬** âœ…

### **1. ë°°í¬ build command ì—ëŸ¬ ë‚˜ëŠ” ê²½ìš°**

1. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

   netlify ì‚¬ì´íŠ¸ì—ì„œ [site settings]-[Build & deploy]-[Build settings] ì˜

   [Key]ì™€ [Value] ì„¤ì •.
   (ì´ë²ˆì— í•„ìˆ˜ëŠ” ì•„ë‹ˆì—ˆë‹¤.)

    </br>

2. **Cl=false npm run build ì„¤ì •**

   netlify ì‚¬ì´íŠ¸ì—ì„œ [site settings]-[Build & deploy]-[Build settings]ì˜ [Build command] ì—

   `Cl=false npm run start` ì…ë ¥.

   [Build command]ê³¼ [Publish directory]ëŠ” ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ netlify.toml íŒŒì¼ ë‚´ìš©ê³¼ ë™ì¼í•´ì•¼í•œë‹¤.

    </br>

3. **netlify.toml íŒŒì¼ ì„¤ì •**

   ```
   [build]
   publish = "build"
   command = "Ci=false npm run build"
   ```

   ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ public í´ë” ë‚´ì— ë„£ëŠ”ë‹¤.

    </br>

### **2. ë°°í¬ í›„ 404 ì—ëŸ¬ê°€ ëœ¨ëŠ” ê²½ìš°**

</br>

`_redirect íŒŒì¼` ìƒì„±í•˜ì—¬ ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ public í´ë” ë‚´ì— ë„£ëŠ”ë‹¤.

ì–´ë– í•œ ê²½ë¡œë¡œ ë“¤ì–´ì™€ë„ (/\*), 200 ìƒíƒœì½”ë“œë¥¼ ë‚´ë ¤ì£¼ë©°, index.html íŒŒì¼ì„ ë Œë”í•´ì£¼ëŠ” íŒŒì¼.

```
/* /index.html 200
```

</br>

- **ì™œ ë°°í¬ í›„ ìƒˆë¡œê³ ì¹¨í–ˆì„ ë•Œ 404ì—ëŸ¬ê°€ ëœ°ê¹Œ?**

  > ë°ì´í„°ë¥¼ ëœë”©í˜ì´ì§€ì—ì„œ ë°›ì•„ì™”ë‹¤ê°€ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì˜®ê¸´ í›„ ìƒˆë¡œê³ ì¹¨í•˜ëŠ” ë°”ëŒì— ë°›ì•„ì™”ë˜ ë°ì´í„°ê°€ ë‚ ì•„ê°„ ìƒíƒœë¡œ ì˜®ê²¨ì§„ í˜ì´ì§€ê°€ ë‹¤ì‹œ ë Œë”ë§ ë˜ê¸° ë–„ë¬¸.

- **Build commandë€?**

  > buildë¥¼ í•´ì•¼ì§€ ë°°í¬ê°€ ê°€ëŠ¥í•œ íŒŒì¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ”ë°, ì´ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•œ ì½”ë“œë¥¼ ì–´ë–»ê²Œ í•  ê²ƒì¸ì§€ë¥¼ ì‘ì„±í•´ì¤˜ì•¼ í•œë‹¤.

- **npm run buildë€?**

  > package.jsonì˜ scriptsì— ìˆëŠ” ëª…ë ¹ì–´ë¥¼ ê°€ì ¸ì˜¨ ê²ƒ. ë‹¤ë¥´ê²Œ ì„¤ì •í•œ ê²½ìš°, netlifyì—ë„ ë‹¤ë¥´ê²Œ ì„¤ì •í•œ ê²ƒì„ ì•Œë ¤ì£¼ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.

- **"Cl="ë€?**

  > Netlifyì—ì„œëŠ” ê·¸ëƒ¥ npm run buildë¥¼ í•˜ë©´ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— "Cl="ë¥¼ ë¶™ì—¬ì¤˜ì•¼ í•œë‹¤.

- **í™˜ê²½ë³€ìˆ˜ì˜ ìš©ë„**

  > ë°°í¬í•˜ê³  í˜ì´ì§€ ì£¼ì†Œë„ ì œëŒ€ë¡œ ìƒì„±ëëŠ”ë°, api keyë¥¼ ë°›ì•„ì˜¤ì§€ ëª»í•˜ê³  urlë§Œ ë°›ì•„ì˜¤ëŠ” 401 errorê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ì— ì„¤ì •í•´ì£¼ë©´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
  > netlify ì‚¬ì´íŠ¸ì—ì„œ [Environment]ì— í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” api keyë¥¼ ì„¤ì •í•œ í›„, [Deploys]-[trigger deploy] í´ë¦­.

</br>

## **Git GitHub** âœ…

### **1. ë³€ê²½ì‚¬í•­ ìµœê·¼ ì»¤ë°‹ì— ë®ì–´ì”Œìš°ê³  ì‹¶ì€ ê²½ìš°**

```
git commit --amend
```

ë³€ê²½ì‚¬í•­ add í›„ í•´ë‹¹ ì‹¤í–‰í•˜ë©´ ë§ˆì§€ë§‰ ì»¤ë°‹ì— ë®ì–´ì”Œì›Œì§„ë‹¤.

</br>

### **2. `git reset --hard` ë¥¼ ì·¨ì†Œí•˜ê³  ì‹¶ì€ ê²½ìš°**

1. ì‚­ì œëœ ì»¤ë°‹ì„ í¬í•œ ëª¨ë“  ì»¤ë°‹ íˆìŠ¤í† ë¦¬ ì¡°íšŒí•˜ê¸°
   ```
   git reflog
   ```

2) ì¡°íšŒí•œ ë‚´ì—­ì„ ë°”íƒ•ìœ¼ë¡œ íŠ¹ì • ë³€ê²½ì‚¬í•­ ì·¨ì†Œ
   ```
   git reset HEAD@{n}
   ```
   ì¡°íšŒí•œ ë‚´ì—­ì˜ në²ˆì§¸ ë³€ê²½ì‚¬í•­ ì·¨ì†Œ.
